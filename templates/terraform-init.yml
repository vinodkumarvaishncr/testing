parameters:
- name: workingDirectory
  type: string
- name: backendServiceArm
  type: string
- name: storageAccountName
  type: string
- name: containerName
  type: string
- name: stateFileKey
  type: string

steps:
- task: TerraformTask@5
  displayName: Terraform Init
  inputs:
    provider: azurerm
    command: init
    workingDirectory: ${{ parameters.workingDirectory }}
    backendServiceArm: ${{ parameters.backendServiceArm }}
    backendAzureRmStorageAccountName: ${{ parameters.storageAccountName }}
    backendAzureRmContainerName: ${{ parameters.containerName }}
    backendAzureRmKey: ${{ parameters.stateFileKey }}
